# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

–ö–æ–≥–¥–∞ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube/Instagram/TikTok:
1. ‚úÖ –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É
2. ‚úÖ –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –æ–ø—Ü–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ–ø—Ü–∏–π –∏ –Ω–∞–∂–∞—Ç–∏—è "–ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É" - –∑–∞–¥–∞—á–∞ —Å—Ç–∞–≤–∏—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
4. ‚ùå **–ù–û Worker –Ω–µ –∑–∞–ø—É—â–µ–Ω** - –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è!

## üî® –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏ Worker

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–∏ worker
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏
docker-compose logs worker
```

### –®–∞–≥ 2: –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏

–°–±–æ—Ä–∫–∞ worker –∑–∞–Ω–∏–º–∞–µ—Ç **15-30 –º–∏–Ω—É—Ç**, –ø–æ—Ç–æ–º—É —á—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:
- PyTorch (2.1 GB)
- TTS (Coqui TTS)
- Faster-Whisper
- Argos Translate
- FFmpeg
- –ò –¥—Ä—É–≥–∏–µ ML –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å Worker

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å worker
docker-compose up -d worker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f worker
```

## üìã –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –û–ë–†–ê–ë–û–¢–ö–ê

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Å—ã–ª–∫–∏:

1. **–í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å—Å—ã–ª–∫—É** ‚Üí –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –µ—ë
2. **–ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É** —Å –æ–ø—Ü–∏—è–º–∏:
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É–±—Ç–∏—Ç—Ä—ã
   - üåê –ü–µ—Ä–µ–≤–µ—Å—Ç–∏
   - üé§ –û–∑–≤—É—á–∏—Ç—å
   - üì± –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
3. **–í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –æ–ø—Ü–∏–∏** –∏ –Ω–∞–∂–∏–º–∞–µ—Ç–µ "–ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É"
4. **–ó–∞–¥–∞—á–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å Redis**
5. **Worker –±–µ—Ä–µ—Ç –∑–∞–¥–∞—á—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏** –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É:
   - –°–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ yt-dlp
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã (Faster-Whisper)
   - –ü–µ—Ä–µ–≤–æ–¥–∏—Ç (Argos Translate)
   - –û–∑–≤—É—á–∏–≤–∞–µ—Ç (TTS)
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ (FFmpeg)
6. **Worker –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –±–æ—Ç—É
7. **–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞–º –≥–æ—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ**

## ‚ö° –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ Worker:

```bash
docker-compose ps worker
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Up X minutes`

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏ Worker –∑–∞–¥–∞—á–∏:

```bash
docker-compose logs -f worker
```

–í—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á.

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—á–µ—Ä–µ–¥—å Redis:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis
docker exec -it autosub_redis redis-cli

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—á–µ—Ä–µ–¥—å
KEYS *
LLEN rq:queue:video_processing
```

## üö® –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### Worker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs worker
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (–Ω—É–∂–Ω–æ ~10GB –¥–ª—è ML –±–∏–±–ª–∏–æ—Ç–µ–∫)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ RAM (–Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 4GB)

### –ó–∞–¥–∞—á–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ worker –∑–∞–ø—É—â–µ–Ω:
```bash
docker-compose ps worker
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–¥–∞—á–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ—á–µ—Ä–µ–¥—å:
```bash
docker-compose logs bot | grep "–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å"
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ worker:
```bash
docker-compose logs worker
```

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

- ‚úÖ **Bot** - –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **PostgreSQL** - –†–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ **Redis** - –†–∞–±–æ—Ç–∞–µ—Ç
- ‚è≥ **Worker** - –°–æ–±–∏—Ä–∞–µ—Ç—Å—è (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ ML –±–∏–±–ª–∏–æ—Ç–µ–∫)
- ‚ö†Ô∏è **Webhook** - –í –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ Worker** (15-30 –º–∏–Ω—É—Ç)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Worker**: `docker-compose up -d worker`
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ YouTube –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É

---

**–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ Worker:** ~20-30 –º–∏–Ω—É—Ç  
**–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞:** ~8-10 GB  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è RAM:** –ú–∏–Ω–∏–º—É–º 4 GB

